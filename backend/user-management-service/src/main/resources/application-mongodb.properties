# =========================================
# MONGODB ALTERNATIVE CONFIGURATION
# =========================================
# Use this if you prefer MongoDB over PostgreSQL
# NOTE: This would require changing JPA entities to MongoDB documents

# =========================================
# SERVER CONFIGURATION  
# =========================================
server.port=${PORT:8080}
server.address=0.0.0.0
server.servlet.context-path=/api/auth

# =========================================
# MONGODB CONFIGURATION (Your existing MongoDB cluster)
# =========================================
spring.data.mongodb.uri=${MONGODB_URI:mongodb+srv://workwithrvprajwal:cUxWuFimD3KwWDPh@aria-cluster.22trjtp.mongodb.net/?retryWrites=true&w=majority&appName=aria-cluster}
spring.data.mongodb.database=${MONGODB_DATABASE:aria_db}

# MongoDB connection settings
spring.data.mongodb.auto-index-creation=true

# =========================================
# DISABLE JPA/FLYWAY (Not needed for MongoDB)
# =========================================
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
spring.flyway.enabled=false

# =========================================
# UPSTASH REDIS CONFIGURATION (Your existing Redis)
# =========================================
spring.redis.host=${UPSTASH_REDIS_HOST:renewing-falcon-41265.upstash.io}
spring.redis.port=${UPSTASH_REDIS_PORT:6379}  
spring.redis.password=${UPSTASH_REDIS_PASSWORD:AaExAAIncDE3NTczYWIxNDNjYjA0NzI2YWQ2NmY0ZTZjZTg5Y2IyMXAxNDEyNjU}
spring.redis.ssl.enabled=true
spring.redis.timeout=5000ms
spring.redis.database=0

# =========================================
# JWT CONFIGURATION
# =========================================
app.jwt.secret=${JWT_SECRET:kV7pL9zR3mX1tU5qW8bC2yJ6fH4nE0sDmA3gK9xZ2vF8uQ4tY7rP1wE6iO5sL0hN}
app.jwt.expiry-ms=3600000
app.jwt.refresh-expiry-ms=604800000

# =========================================
# MAIL CONFIGURATION
# =========================================
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:workwithrvprajwal@gmail.com}
spring.mail.password=${MAIL_PASSWORD:vclhowpwtmopdqdz}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# =========================================
# MULTIPART FILE UPLOAD
# =========================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.enabled=true

# =========================================
# ACTUATOR (Health Checks)
# =========================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.endpoints.web.base-path=/actuator
management.health.redis.enabled=false
management.health.defaults.enabled=true

# =========================================
# LOGGING
# =========================================
logging.level.org.springframework=INFO
logging.level.com.company=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.data.mongodb=INFO

# =========================================
# CORS CONFIGURATION
# =========================================
cors.allowed-origins=${CORS_ORIGINS:https://aria-frontend.onrender.com}

# =========================================
# SECURITY HEADERS
# =========================================
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=strict
