# =========================================
# RENDER PROFILE - ULTRA MINIMAL FOR DEBUG
# =========================================

# CRITICAL: Render port binding configuration
server.port=${PORT:10000}
server.address=0.0.0.0

# DISABLE SSL (Render handles this)
server.ssl.enabled=false

# MINIMAL CONTEXT PATH
server.servlet.context-path=/api/auth

# EXCLUDE ONLY PROBLEMATIC COMPONENTS (Keep JPA for OtpRepository)
spring.autoconfigure.exclude=\
org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\
org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,\
org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration

# MINIMAL DATABASE CONFIG FOR RENDER (Required for OtpRepository)
spring.datasource.url=${DATABASE_URL:jdbc:h2:mem:testdb}
spring.datasource.driver-class-name=${DB_DRIVER:org.h2.Driver}
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:}

# JPA MINIMAL CONFIG
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.show-sql=false

# DISABLE FLYWAY
spring.flyway.enabled=false

# OVERRIDE LOGBACK CONFIGURATION TO USE SIMPLE CONSOLE-ONLY VERSION
logging.config=classpath:logback-render-minimal.xml

# DISABLE ALL FILE LOGGING
logging.file.name=
logging.file.path=

# SIMPLE CONSOLE LOGGING
logging.pattern.console=%d{HH:mm:ss.SSS} %-5level --- [%15.15t] %-40.40logger{39} : %m%n

# MINIMAL ACTUATOR FOR HEALTH CHECK
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always
management.health.defaults.enabled=false
management.health.ping.enabled=true
management.health.diskspace.enabled=false
