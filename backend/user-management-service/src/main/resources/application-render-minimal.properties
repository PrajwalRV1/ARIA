# =========================================
# RENDER PROFILE - ULTRA MINIMAL FOR DEBUG
# =========================================

# CRITICAL: Render port binding configuration
server.port=${PORT:10000}
server.address=0.0.0.0

# DISABLE SSL (Render handles this)
server.ssl.enabled=false

# MINIMAL CONTEXT PATH
server.servlet.context-path=/api/auth

# EXCLUDE ONLY PROBLEMATIC COMPONENTS (Keep JPA for OtpRepository)
spring.autoconfigure.exclude=\
org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\
org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,\
org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration

# SUPABASE POSTGRESQL CONFIG FOR RENDER (Required for OtpRepository)
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://aws-1-ap-south-1.pooler.supabase.com:6543/postgres?sslmode=require&cachePrepStmts=false&useServerPrepStmts=false&rewriteBatchedStatements=false&prepareThreshold=0&preparedStatementCacheSize=0&preparedStatementCacheSqlLimit=0&ApplicationName=ARIA-User-Management}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=${DB_USERNAME:postgres.deqfzxsmuydhrepyiagq}
spring.datasource.password=${DB_PASSWORD:CoolLife@AriaDB}

# JPA CONFIG FOR POSTGRESQL
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# DISABLE FLYWAY
spring.flyway.enabled=false

# OVERRIDE LOGBACK CONFIGURATION TO USE SIMPLE CONSOLE-ONLY VERSION
logging.config=classpath:logback-render-minimal.xml

# DISABLE ALL FILE LOGGING
logging.file.name=
logging.file.path=

# SIMPLE CONSOLE LOGGING
logging.pattern.console=%d{HH:mm:ss.SSS} %-5level --- [%15.15t] %-40.40logger{39} : %m%n

# MINIMAL ACTUATOR FOR HEALTH CHECK
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always
management.health.defaults.enabled=false
management.health.ping.enabled=true
management.health.diskspace.enabled=false
